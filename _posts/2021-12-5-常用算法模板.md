---
layout:     post
title:      常用算法模板
subtitle:   理应信手拈来
date:       2021-12-5
author:     Timer
header-img: img/the-first.png
catalog: false
tags:
    - Algorithm

---

#### 快速幂（迭代）

```java
    public double myPow(double x, int n) {
        long N = Math.abs((long)n);
        double ans = 1;
        while(N > 0){
            if((N & 1) == 1){
                ans *= x;
            }
            x *= x;
            N /= 2;
        }
        return n >= 0 ? ans : 1 / ans;
    }
```

#### 快速幂（递归）

```java
    public double dfs(double x, long n){
        if(n == 0){
            return 1;
        }
        double y = dfs(x, n / 2);
        return (n & 1) == 1 ? y * y * x : y * y;
    }

    public double myPow(double x, int n) {
        long N = Math.abs((long)n);        
        return n < 0 ? 1 / dfs(x, N) : dfs(x, N);
    }
```

#### 快速乘（实际运用需要考虑溢出）

```java
    public long quickAdd(int x, int n) {
        long N = Math.abs((long) n);
        long ans = 0;
        while(N > 0){
            if((N & 1) == 1){
                ans += x;
            }
            x += x;
            N /= 2;
        }
        return n < 0 ? -ans : ans;
    }
```

