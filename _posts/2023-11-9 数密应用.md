---
layout:     post
title:      数据密集型系统应用设计
subtitle:   
date:       2023-11-9
author:     TimerIzaya
header-img: img/the-first.png
catalog: false
tags:
    - 笔记

---

# 存储与检索

#### 最简单的数据库

```shell
db_set () {
  echo "$1,$2" >> database
}

db_get () {
  grep "^$1," database | sed -e "s/^$1,//" | tail -n 1
}
```

有几点需要注意的地方：

1. `$1 $2`代表两个变量
2. `">"`在shell中代表重定向，会覆盖文件内容，`">>"`代表追加到下一行
3. `"^$1,"`代表`$1,`开头
4.  sed的-e指的是处理字符串，-f是处理文件。
5. sed的`"s/^$1,//"` 含义为：s/ x / y / 替换x为y 第一处，s / x /y /g为全局替换
6. `tail -n 1` 就是查到多行只取第一行
