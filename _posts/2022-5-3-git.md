---
layout:     post
title:      Git个人手册
subtitle:   上班前的小准备
date:       2022-5-3
author:     Timer
header-img: img/the-first.png
catalog: false
tags:
    - git
    - 技术栈
 
---

## Git常用命令

1. ### git init

   初始化本地仓库

2. ### git branch

   查看本地的所有branch，如果此时fetch了github的分支，那么是看不到的。

3. ### git add .

   把所有文件加入暂存区

4. ### git commit -m  "message"

   把暂存区提交到本地仓库

5. ### git reset  "fileName"

   add之后后悔了，取消暂存区里指定的文件

6. ### git reset "commitId"

   把文件恢复到指定id的状态，这里reset有三种模式。

   **--hard**：不保留变更

   **--soft**：保留变更，变更内容状态为Staged，也就是在暂存区

   **--mixed**：保留变更，变更内容状态为Modified。

   比如一个空文件，每次写一行，提交一次。

   | 内容                                       | CommitId |
   | :----------------------------------------- | :------- |
   | 写了第一行                                 | id0      |
   | 写了第一行<br />写了第二行                 | id1      |
   | 写了第一行<br />写了第二行<br />写了第三行 | id2      |

   那么`git reset id0 --hard`则内容只有“写了第一行”。

7. ### git checkout -b "name" "template"

   创建新的分支，分支的名称为"name"，分支的模板为"template"，如果不指定模板，则以当前分支为模板。

   如果希望模板是github上的某个分支的话，也可以在"template"之前加上origin，完整命令为

   `git checkout -b <name> origin <template>`

   

8. ### git push --set-upstream origin  "branchName"

   把当前本地的分支push到git，比如某个项目X，有员工A和B，员工A开一个branch_A开始工作，但是push到github的时候，github没有branch_A，所以要先push一下upstream。

9. ### git pull

   比如某个前后端分离的项目，后端需要获得前端最新的代码，那么就需要先fetch过来前端的分支，然后把这个分支merge到自己的分支， 所以pull = fetch + merge。

10. ### git rebase

    分支A为1->2，分支B以A为模板也为1->2，也就是说B的base是A。

    A变成了1->2->5

    B变成了1->2->3->4

    这个时候B希望自己的base是最新的，也就是1->2->5->3->4，那么就需要git rebase A。



























